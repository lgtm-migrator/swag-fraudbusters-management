openapi: 3.0.3
info:
  version: 1.0.0
  title: RBKmoney Fraudbusters Management API
  description:
    $ref: './docs/api.md'
  termsOfService: 'https://rbk.money/'
  contact:
    name: RBKmoney Support Team
    email: support@rbk.money
    url: 'https://developer.rbk.money'
  license:
    name: Apache 2.0
    url: https://www.apache.org/licenses/LICENSE-2.0.html
security:
  - bearer: []
tags:
  - name: error-codes
    x-displayName: Коды ошибок
    description:
      $ref: './docs/error-codes.md'
  - name: audit
    x-displayName: Audit
  - name: notification
    x-displayName: Notifications
  - name: group
    x-displayName: Groups
  - name: group-reference
    x-displayName: Groups reference
  - name: lists
    x-displayName: Lists
  - name: emulation
    x-displayName: Emulation
  - name: load-data
    x-displayName: Load data
  - name: template
    x-displayName: Templates
  - name: reference
    x-displayName: References
paths:
  # Audit
  /audit/commandTypes:
    $ref: ./paths/audit/getCommandTypes.yaml
  /audit/filter:
    $ref: ./paths/audit/filterLogs.yaml
  /audit/objectTypes:
    $ref: ./paths/audit/getObjectTypes.yaml

  # Notifications
  /notification:
    $ref: ./paths/notification/createOrUpdateNotification.yaml
  /notification/{name}:
    $ref: ./paths/notification/removeNotification.yaml
  /notification/validate:
    $ref: ./paths/notification/validateNotification.yaml

  # Notifications channel
  /notification/channel:
    $ref: ./paths/notification/channel/createChannel.yaml
  /notification/channel/{name}:
    $ref: ./paths/notification/channel/removeChannel.yaml

  # Load data
  /load-data/fraud:
    $ref: ./paths/load-data/loadFraudTransactions.yaml

  # Groups
  /group:
    $ref: ./paths/group/insertGroup.yaml
  /group/{groupId}:
      $ref: ./paths/group/removeGroup.yaml
  /group/filter:
    $ref: ./paths/group/filterGroups.yaml

  # Groups reference
  /group/{id}/reference:
    $ref: ./paths/group/reference/insertGroupReferences.yaml
  /group/{id}/reference/remove:
    $ref: ./paths/group/reference/removeGroupReference.yaml
  /group/reference/filter:
    $ref: ./paths/group/reference/filterGroupsReferences.yaml

  # Lists
  /lists:
    $ref: ./paths/lists/insertRow.yaml
  /lists/{id}:
    $ref: ./paths/lists/removeRow.yaml
  /lists/availableListNames:
    $ref: ./paths/lists/getAvailableListNames.yaml
  /lists/filter:
    $ref: ./paths/lists/filterLists.yaml

  # Templates
  /template:
    $ref: ./paths/template/insertTemplate.yaml
  /template/{id}:
    $ref: ./paths/template/removeTemplate.yaml
  /template/filter:
    $ref: ./paths/template/filterTemplates.yaml
  /template/names:
    $ref: ./paths/template/getTemplateNames.yaml
  /template/validate:
    $ref: ./paths/template/validateTemplate.yaml

  # References
  /reference:
    $ref: ./paths/reference/insertReferences.yaml # /template/references
  /reference/{id}:
    $ref: ./paths/reference/removeReference.yaml # /template/{templateId}/reference/{id}
  /reference/filter:
    $ref: ./paths/reference/filterReferences.yaml

  # Default references
  /reference/default:
    $ref: ./paths/reference/default/insertDefaultReference.yaml # /template/{id}/default
  /reference/default/{id}:
    $ref: ./paths/reference/default/removeDefaultReference.yaml # /template/{id}/default
  /reference/default/filter:
    $ref: ./paths/reference/default/filterDefaultReferences.yaml

  # Emulation
  /emulation:
    $ref: ./paths/emulation/getTemplatesFlow.yaml # /rules

servers:
  - url: 'https://fb-management:8080/fb-management/v1'

components:
  securitySchemes:
    bearer:
      $ref: './components/security-schemes/Bearer.yaml'
